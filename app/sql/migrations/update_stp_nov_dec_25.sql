-- STP Operations Update: November - December 2025
-- Run this SQL in your Supabase SQL Editor
-- This script adds/updates STP data from Nov 1, 2025 to Dec 30, 2025

-- First, delete any existing records for this date range to avoid duplicates
DELETE FROM stp_operations 
WHERE date >= '2025-11-01' AND date <= '2025-12-31';

-- Insert November 2025 data
INSERT INTO stp_operations (date, tanker_trips, inlet_sewage, tse_for_irrigation, generated_income, water_savings, total_impact, monthly_volume_input, monthly_volume_output, monthly_income, monthly_savings) VALUES
-- November 2025
('2025-11-01', 13, 260, 449, 709, 765, 658, 58.5, 869, 927, NULL),
('2025-11-02', 13, 260, 418, 678, 793, 689, 58.5, 909, 968, NULL),
('2025-11-03', 17, 340, 423, 763, 17, 768, 76.5, 1014, 1090, NULL),
('2025-11-04', 13, 260, 366, 626, 781, 679, 58.5, 896, 955, NULL),
('2025-11-05', 14, 280, 449, 729, 788, 687, 63, 907, 970, NULL),
('2025-11-06', 20, 400, 362, 762, 758, 665, 90, 878, 968, NULL),
('2025-11-07', 16, 320, 344, 664, 689, 596, 72, 787, 859, NULL),
('2025-11-08', 7, 140, 390, 530, 558, 508, 31.5, 671, 702, NULL),
('2025-11-09', 15, 300, 363, 663, 695, 590, 67.5, 779, 846, NULL),
('2025-11-10', 13, 260, 419, 679, 750, 632, 58.5, 834, 893, NULL),
('2025-11-11', 14, 280, 331, 611, 748, 628, 63, 829, 892, NULL),
('2025-11-12', 15, 300, 369, 669, 752, 643, 67.5, 849, 916, NULL),
('2025-11-13', 16, 320, -320, 640, 770, 660, 72, 871, 943, NULL),
('2025-11-14', 18, 360, 367, 727, 723, 635, 81, 838, 919, NULL),
('2025-11-15', 16, 320, 454, 774, 760, 668, 72, 882, 954, NULL),
('2025-11-16', 15, 300, 420, 720, 755, 660, 67.5, 871, 939, NULL),
('2025-11-17', 11, 220, 501, 721, 542, 452, 49.5, 597, 646, NULL),
('2025-11-18', 15, 300, 467, 767, 752, 645, 67.5, 851, 919, NULL),
('2025-11-19', 12, 240, 499, 739, 691, 503, 54, 664, 718, NULL),
('2025-11-20', 10, 200, 448, 648, 741, 625, 45, 825, 870, NULL),
('2025-11-21', 10, 200, 505, 705, 762, 651, 45, 859, 904, NULL),
('2025-11-22', 9, 180, 469, 649, 675, 873, 40.5, 1152, 1193, NULL),
('2025-11-24', 13, 260, 465, 725, 747, 666, 58.5, 879, 938, NULL),
('2025-11-26', 10, 200, 474, 674, 720, 638, 45, 842, 887, NULL),
('2025-11-27', 5, 100, 447, 547, 562, 481, 22.5, 635, 657, NULL),
('2025-11-28', 9, 180, 464, 644, 598, 512, 40.5, 676, 716, NULL),
('2025-11-29', 5, 100, 489, 589, 655, 569, 22.5, 751, 774, NULL),
('2025-11-30', 8, 160, 429, 589, 616, 544, 36, 718, 754, NULL),

-- December 2025
('2025-12-01', 10, 200, 439, 639, 578, 494, 45, 652, 697, NULL),
('2025-12-02', 6, 120, 453, 573, 653, 566, 27, 747, 774, NULL),
('2025-12-03', 7, 140, 440, 580, 633, 555, 31.5, 733, 764.5, NULL),
('2025-12-04', 8, 160, 414, 574, 625, 535, 36, 706, 742, NULL),
('2025-12-05', 9, 180, 410, 590, 612, 514, 40.5, 678, 718.5, NULL),
('2025-12-06', 6, 120, 442, 562, 659, 548, 27, 721, 748, NULL),
('2025-12-07', 8, 160, 435, 595, 537, 458, 36, 605, 641, NULL),
('2025-12-08', 8, 160, 433, 593, 702, 573, 36, 756, 792, NULL),
('2025-12-09', 8, 160, 401, 561, 626, 533, 36, 704, 740, NULL),
('2025-12-10', 10, 200, 362, 562, 636, 530, 45, 700, 745, NULL),
('2025-12-11', 11, 220, 325, 545, 686, 600, 49.5, 792, 841.5, NULL),
('2025-12-12', 12, 240, 401, 641, 568, 523, 54, 690, 744, NULL),
('2025-12-14', 9, 180, 357, 537, 640, 548, 40.5, 723, 763.5, NULL),
('2025-12-15', 12, 240, 408, 648, 705, 611, 54, 807, 861, NULL),
('2025-12-17', 13, 260, 387, 647, 688, 609, 58.5, 804, 862.5, NULL),
('2025-12-18', 12, 240, 384, 624, 663, 562, 54, 742, 796, NULL),
('2025-12-20', 12, 240, 408, 648, 776, 608, 54, 803, 857, NULL),
('2025-12-21', 11, 220, 377, 597, 725, 629, 49.5, 830, 879.5, NULL),
('2025-12-22', 10, 200, 352, 552, 666, 584, 45, 771, 816, NULL),
('2025-12-23', 13, 260, 350, 610, 737, 635, 58.5, 838, 896.5, NULL),
('2025-12-24', 14, 280, 397, 677, 725, 612, 63, 808, 871, NULL),
('2025-12-25', 14, 280, 408, 688, 685, 586, 63, 774, 837, NULL),
('2025-12-26', 15, 300, 385, 685, 763, 658, 67.5, 869, 936.5, NULL),
('2025-12-27', 12, 240, 477, 717, 750, 631, 54, 833, 887, NULL),
('2025-12-28', 13, 260, 349, 609, 747, 635, 58.5, 838, 896.5, NULL),
('2025-12-29', 11, 220, 459, 679, 756, 644, 49.5, 850, 899.5, NULL),
('2025-12-30', 13, 260, 495, 755, 742, 622, 58.5, 821, 879.5, NULL);

-- Verify the inserted data
SELECT 
    COUNT(*) as total_records,
    MIN(date) as earliest_date,
    MAX(date) as latest_date
FROM stp_operations;

-- Show summary by month
SELECT 
    TO_CHAR(date, 'YYYY-MM') as month,
    COUNT(*) as records,
    ROUND(AVG(inlet_sewage)::numeric, 1) as avg_inlet,
    ROUND(AVG(tse_for_irrigation)::numeric, 1) as avg_tse,
    SUM(tanker_trips) as total_trips
FROM stp_operations
WHERE date >= '2025-11-01'
GROUP BY TO_CHAR(date, 'YYYY-MM')
ORDER BY month;
